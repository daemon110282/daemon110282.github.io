# REST API

TODO
- Ресурс
- URL
- HTTP метод
  - SRP 
- Свойства метода
- Возможные ошибки
- Headers
- [HTTP Status](api-http-status.md)
- [HATEOS](https://docs.microsoft.com/ru-ru/azure/architecture/best-practices/api-design#use-hateoas-to-enable-navigation-to-related-resources)
- Версионность

Качества хорошего API
- очевидность
- читабельность 
- консистентен: при разработке новой функциональности, т.е. при обращении к каким-то незнакомым сущностям в API, разработчик может действовать по аналогии с уже известными ему концепциями API, и его код будет работать.

Проектирование
- https://systems.education/api-design
- [Сергей Константинов. API TODO](https://twirl.github.io/The-API-Book/API.ru.html)
  - метод (интерфейс)
    - Стремитесь к тому, чтобы из **сигнатуры функции было абсолютно ясно, что она делает, что принимает на вход и что возвращает**. Вообще, при прочтении кода, работающего с вашим API, должно быть сразу понятно, что, собственно, он делает — без подглядывания в документацию.
    - Избегайте неявных частичных обновлений
  - свойства  метода (контракт интерфейса)
    - Указывайте использованные стандарты
    - При этом существует «золотое правило», применимое не только к API, но ко множеству других областей проектирования: человек комфортно удерживает в краткосрочной памяти **7±2 различных объекта**. Манипулировать большим числом сущностей человеку уже сложно. Это правило также известно как **«закон Миллера»**. Бороться с этим законом можно только одним способом: **декомпозицией**. На каждом уровне работы с вашим API нужно стремиться логически группировать сущности под одним именем там, где это возможно и таким образом, чтобы разработчику никогда не приходилось оперировать более чем 10 сущностями одновременно. Должны выделить в структуре **информационные домены**: какие поля логически относятся к одной предметной области.
    - Сущности должны именоваться конкретно
    - Тип поля должен быть ясен из его названия
  - ошибки
    - Должны быть информативными
- https://gist.github.com/fomvasss/c1221b2464be94870f7f823c74520665
- Наименования физические ресурсов, свойств
  - https://proglib.io/p/21-luchshiy-metod-vyvedet-vashi-navyki-proektirovaniya-api-na-novyy-uroven-2021-04-29
  - https://proglib.io/p/15-luchshih-praktik-razrabotki-i-proektirovaniya-rest-api-2022-04-12

## Best practices

[REST](https://habr.com/ru/post/351890/)

- Конечные точки в URL – имя существительное, не глагол
- Множественное число
- Документация
- Версия вашего приложения
- Пагинация
- Использование SSL
- HTTP методы
- Эффективное использование кодов ответов HTTP

- Идемпотентность
  - GET всегда
  - POST - клиент должен контролировать повторные запросы, если не получил ответа
  - PUT - если клиент не получил ответа на запрос, просто направляет повторно 
- RESTful
  - [Яндекс.Касса](https://yookassa.ru/developers/using-api/interaction-format) 

## Links

- REST
  - https://itnan.ru/post.php?c=1&p=351890
  - [MS Guide](https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md)
  - [IBM](https://www.ibm.com/docs/ru/zos-connect/zosconnect/3.0?topic=apis-designing-restful)
  - https://github.com/Sairyss/backend-best-practices
- [Док-е TODO](https://starkovden.github.io/index.html)
