# Критерии выбора

Законы архитектуры:

- Everything in software architecture is a __trade-off__. Любое решение является __компромиссом__.
  - Нет плохих решений - есть __цели и контекст бизнеса__ (пример: сделать самолет военный, гражданский)
- Why is more important than how. Вопрос "__почему__" является важнее вопроса "как". Библиотеки и фреймворки - детали реализации, которые должны быть скрыты.

Критерии:

- __Сложность__
  - Обоснована ли сложность архитектуры для вашего домена?
  - И наоборот, не слишком ли стиль прост для вашего домена? В этом случае вы рискуете получить систему с нераспознаваемой структурой, так как архитектура не позволит правильно управлять зависимостями.
  - Гибкое тех решение должно быть __открытым и усточивым для будущих изменений__, но сбалансированное и __без overenginering__
- __Асинхронный обмен сообщениями и итоговая согласованность.__
  - Асинхронный обмен сообщениями может использоваться для разделения служб и повысить надежность (так как сообщения могут отсылаться повторно) и масштабируемость.
  - Но он также усложняет работу с итоговой согласованностью и может приводить к дублированию сообщений.
- __Взаимодействие между сервисами__
  - Так как приложение можно разбить на отдельные сервисами, есть риск, что обмен данными между службами приведет к неприемлемому уровню задержек или перегрузке сети (например, в архитектуре микрослужб).
- __Управляемость__
  - Насколько тяжело управлять приложением, выполнять мониторинг, развертывать обновления и т. д.?
- __Слабая связность, сильная целостность__
  - Ни одну из текущих ИС не нужно будет дорабатывать под новое подключение ИС к шине сообщений

TODO [объединить с атрибутами качества](arch.ability.md) ?

## Арх решение

- Компромис бизнес проблем, целей и тех решения с учетом дальнейшего развития
- Анализ вариантов, [плюсы\минусы](https://docs.microsoft.com/ru-ru/azure/architecture/guide/architecture-styles/#consider-challenges-and-benefits)
  - Посчитать в деньгах, трудоемкости
- Порядок (пирамида) проработки архитектуры решения
  - Функциональная(use case, ПЗ, БТ)
  - Информационная(модель данных, предметная область, сущность, связи)
  - Прикладная(взаимодействия компонентов)
  - Интеграционная(РИПВ)
  - Технологическая(инфраструктура, ИБ)
