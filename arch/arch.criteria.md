# Критерии выбора

## Законы архитектуры

- Everything in software architecture is a __trade-off__. Любое решение является __компромиссом__.
  - Нет плохих решений - есть __цели и контекст бизнеса__ (пример: сделать самолет военный, гражданский)
- Вопрос "__почему__" является важнее вопроса "__как__"
  - Библиотеки и фреймворки - детали реализации, которые должны быть скрыты.
- __Закон Конвея__ — «Организации проектируют системы, которые копируют структуру коммуникаций в этой организации»

## Критерии

- __Сложность__
  - Обоснована ли сложность архитектуры для вашего домена?
  - И наоборот, не слишком ли стиль прост для вашего домена? В этом случае вы рискуете получить систему с нераспознаваемой структурой, так как архитектура не позволит правильно управлять зависимостями.
  - Гибкое тех решение должно быть __открытым и усточивым для будущих изменений__, но сбалансированное и __без overenginering__
- __Асинхронный обмен сообщениями и итоговая согласованность__
  - Асинхронный обмен сообщениями может использоваться для разделения служб и повысить надежность (так как сообщения могут отсылаться повторно) и масштабируемость.
  - Но он также усложняет работу с итоговой согласованностью и может приводить к дублированию сообщений.
- __Взаимодействие между сервисами__
  - Так как приложение можно разбить на отдельные сервисами, есть риск, что обмен данными между службами приведет к неприемлемому уровню задержек или перегрузке сети (например, в архитектуре микрослужб).
- __Управляемость__
  - Насколько тяжело управлять приложением, выполнять мониторинг, развертывать обновления и т. д.?
- __Слабая связность, сильная целостность__
  - Ни одну из текущих ИС не нужно будет дорабатывать под новое подключение ИС к шине сообщений

TODO [объединить с атрибутами качества](arch.ability.md) ?

## Арх решение

- Компромис бизнес проблем, целей и тех решения с __учетом дальнейшего развития__
- [Анализ вариантов](alternative.md)
  - [плюсы и минусы](https://docs.microsoft.com/ru-ru/azure/architecture/guide/architecture-styles/#consider-challenges-and-benefits)
  - Посчитать в деньгах, трудоемкости
- Порядок (пирамида) проработки архитектуры решения
  1. Функциональная(use case, ПЗ, БТ)
  2. Информационная(модель данных, предметная область, сущность, связи)
  3. Прикладная(взаимодействия компонентов)
  4. Интеграционная(РИПВ)
  5. Технологическая(инфраструктура, ИБ)
