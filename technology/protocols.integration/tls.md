# Transport Layer Security (TLS)

- [Transport Layer Security (TLS)](#transport-layer-security-tls)
  - [Зачем](#зачем)
  - [Односторонняя аутентификация (TLS)](#односторонняя-аутентификация-tls)
  - [Двусторонняя аутентификация Mutual TLS (MTLS)](#двусторонняя-аутентификация-mutual-tls-mtls)
  - [Технологии](#технологии)

## Зачем

- SSL
- [Transport Layer Security (TLS)](https://habr.com/ru/post/593507/) - обеспечение защищенной передачи данных между двумя компьютерами в сети Интернет (на базе SSL3.0)
- Шифруется вся часть запроса(cookie, headers, body), в том числе параметры URL
- Асимметричное шифрование
  - private key - алгоритмы (RSA, AES, ГОСТ и тд) , хэш
  - public key
- __CA - удостоверяющий центр__ подписывает __сертификат сервера__
  - сертификат (.PEM файл) обычно содержит ряд полей:
    - об имени сервера, которому выдан сертификат
    - сроках действия этого сертификата. Если срок действия сертификата истек, он признается недействительным.
  - __Корневые сертификаты__ распространяются публично в составе обновлений операционных систем, используется исключительно для подписи других сертификатов.
  - Запрос на подпись сертификата (CSR, Certificate Sign Request)
  - __Self signed самоподписанный сертификат__ без CA - уровень доверия во вне низкий

![ssl](../../img/technology/protocols/ssl.jpg)

## Односторонняя аутентификация (TLS)

[односторонняя аутентификация](https://mnorin.com/tls-ssl-neobhodimy-j-minimum-znanij.html) - проверяется только сертификат сервера

## Двусторонняя аутентификация Mutual TLS (MTLS)

Двусторонняя аутентификация или mutual authentication:

- аутентификация __Client certificate SSL__
  - Клиентские SSL-сертификаты используются для идентификации клиента или пользователя и аутентификации клиента на сервере
- __форматы__ Client certificate ssl:
  - PKCS12 (файл .p12)
  - X.509
- Установление двустороннего TLS-соединения с __использованием доверенного удостоверяющего центра__
- [Создание собственных X.509 сертификатов](https://habr.com/ru/articles/593507/)

![mtls](../../img/technology/protocols/mtls.jpg)

## Технологии

Управление сертификатами

- [Kubernetes](../ci-cd/k8s.md#управление-сертификатами-tls)
- [Ansible](../ci-cd/ansible.md#управление-сертификатами-tls)
