# Redis

нюансы:

- когда на серверах Redis`а появляется дисковая активность, время ответа от нашего сервиса растет
- На некоторое время мы снизили частоту сохранения данных на диск
- Redis недоступен все время, пока он поднимает данные с диска (это логично, конечно), т.е. если вдруг у вас упал Redis-процесс, то до тех пор, пока вновь поднятый сервис не поднимет все свое состояние с диска, сервис отвечать не будет, даже если для вас отсутствие данных гораздо меньшая проблема чем недоступная БД.
- после внедрения шардинга стало слежение за доступностью оперативной памяти на Redis-серверах. Свободной памяти на серверах должно быть столько, чтобы при падении 1-2 Redis-машин нам хватило бы памяти для передачи всех данных на оставшиеся в бою сервера и продолжения работы до тех пор, пока вылетевшие сервера не вернутся в строй.
- Персистентность в программировании означает способность состояния существовать дольше, чем процесс, создавший его.
- В первую очередь, Redis умеет сохранять данные на диск. Можно настроить Redis так, чтобы данные вообще не сохранялись, сохранялись периодически по принципу copy-on-write, или сохранялись периодически и писались в журнал (binlog). Таким образом, всегда можно добиться требуемого баланса между производительностью и надежностью.
- redis-benchmark в тесте только пускать
- Репликация

## Links

- http://eax.me/redis/
- https://cloud.github.com/downloads/kondratovich/the-little-redis-book/redis-ru.pdf
- https://www.slideshare.net/phpguru/redis-101-10043219
- http://www.highload.ru/2014/abstracts/1646.html